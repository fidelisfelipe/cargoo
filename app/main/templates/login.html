<ion-view view-title="Login" name="login-view">
  <ion-content class="padding">
  <form class="formValidate" name="loginForm" ng-submit="login.login(loginForm)" novalidate>
		<label class="item item-input item-floating-label" 
			ng-class="{ 'has-errors' : loginForm.email.$invalid && loginForm.$submitted, 'no-errors' : loginForm.email.$valid && loginForm.$submitted}">
		  <span class="input-label">E-mail</span>
		  <input type="text" placeholder="E-mail" name="email" ng-model="login.data.email" maxlength="30" required>
		</label>
		<div class="error-container" ng-show="loginForm.email.$error && loginForm.$submitted" ng-messages="loginForm.email.$error">
			<div ng-messages-include="error-list.html"></div>
		</div>
		<label class="item item-input item-floating-label" 
			ng-class="{ 'has-errors' : loginForm.password.$invalid && loginForm.$submitted, 'no-errors' : loginForm.password.$valid && loginForm.$submitted}">
		  <span class="input-label">Senha</span>
		  <input type="password" placeholder="Senha" name="password" ng-model="login.data.password" maxlength="30" required>
		</label>
		<div class="error-container" ng-show="loginForm.password.$error && loginForm.$submitted" ng-messages="loginForm.password.$error">
			<div ng-messages-include="error-list.html"></div>
		</div>

      <button class="button button-block button-positive" >Login</button>
	  <button class="button button-block button-calm" ng-click="login.recover()">Recover Password</button>
  </form>
  </ion-content>
</ion-view>

<script id="error-list.html" type="text/ng-template">
	<div class="error" ng-message="date">
		<i class="ion-information-circled"></i> 
		Data inválida
	</div>
	<div class="error" ng-message="required">
		<i class="ion-information-circled"></i> 
		Campo Obrigatório!
	</div>
	<div class="error" ng-message="minlength">
		<i class="ion-information-circled"></i> 
		Muito curto
	</div>
	<div class="error" ng-message="maxlength">
		<i class="ion-information-circled"></i> 
		Muito longo
	</div>
	<div class="error" ng-message="cpf">
		<i class="ion-information-circled"></i> 
		Informe CPF válido
	</div>
	<div class="error" ng-message="customAsyncUserExist">
		<i class="ion-information-circled"></i> 
		Usuário já cadastrado!
	</div>
	<div class="error" ng-message="customAsyncUserExistLoading">
		<i class="ion-information-circled"></i> 
		Verificando Usuário...
	</div>
</script>